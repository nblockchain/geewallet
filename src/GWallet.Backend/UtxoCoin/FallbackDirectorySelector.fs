namespace GWallet.Backend.UtxoCoin

open System
open System.Collections.Generic
open System.Linq
open System.Net

module internal FallbackDirectorySelector =
    let fallbackDirectories =
        [
            "62.210.105.46:9001";
            "95.128.43.164:443";
            "5.79.79.133:443";
            "91.121.103.117:9001";
            "109.70.100.9:443";
            "83.205.231.204:9001";
            "37.252.187.111:443";
            "144.76.157.242:9001";
            "212.47.233.86:9001";
            "173.212.231.228:9001";
            "62.216.54.29:9001";
            "213.239.213.190:443";
            "5.9.37.162:9001";
            "82.69.47.114:443";
            "51.15.177.140:993";
            "209.141.57.122:443";
            "193.234.15.58:443";
            "185.228.138.252:8080";
            "77.23.45.123:9001";
            "82.103.140.87:443";
            "37.221.66.248:443";
            "109.70.100.1:443";
            "185.82.127.141:9001";
            "45.76.218.50:9001";
            "54.36.205.38:9001";
            "185.72.247.145:9001";
            "140.78.100.38:5443";
            "173.75.39.61:9001";
            "185.4.132.135:443";
            "104.244.77.250:443";
            "45.67.229.37:9001";
            "193.108.117.103:9001";
            "158.101.138.180:443";
            "110.141.223.194:9001";
            "104.149.139.42:8080";
            "58.107.88.237:9001";
            "198.245.61.171:443";
            "198.211.40.226:9001";
            "94.130.200.167:443";
            "136.243.60.188:9001";
            "81.28.206.216:9001";
            "78.198.147.227:9001";
            "23.239.113.101:443";
            "173.212.219.49:6666";
            "52.205.15.239:9001";
            "68.71.27.78:9001";
            "185.162.251.135:9001";
            "157.90.38.9:443";
            "217.79.178.53:444";
            "195.154.112.228:9001";
            "91.194.84.89:8443";
            "159.196.69.117:9001";
            "46.38.236.250:9001";
            "209.141.39.200:443";
            "5.135.156.12:4899";
            "83.161.151.178:9001";
            "85.214.141.24:9001";
            "199.195.250.77:443";
            "185.100.87.250:8443";
            "178.20.55.16:443";
            "151.237.185.134:9001";
            "213.164.218.224:443";
            "51.83.131.42:9001";
            "172.105.89.143:9007";
            "179.43.169.20:443";
            "174.89.83.82:9001";
            "68.160.242.214:9001";
            "144.76.216.252:9001";
            "209.141.54.168:443";
            "107.189.31.241:9100";
            "123.255.62.137:9001";
            "5.56.221.113:4020";
            "24.151.37.55:42069";
            "212.74.233.22:9011";
            "185.32.221.201:443";
            "199.249.230.166:443";
            "92.38.163.65:9001";
            "193.111.26.37:443";
            "132.226.162.148:9001";
            "185.220.102.250:993";
            "95.216.145.127:9001";
            "84.160.69.190:9001";
            "178.17.173.26:9001";
            "172.222.102.43:9001";
            "5.45.104.171:22";
            "37.120.184.36:9001";
            "173.208.141.58:8443";
            "62.65.40.250:443";
            "91.143.85.52:465";
            "37.218.241.28:9001";
            "163.172.94.119:9001";
            "91.121.82.132:9001";
            "62.210.123.24:443";
            "192.222.169.71:9001";
            "95.217.30.201:443";
            "51.159.144.243:443";
            "212.227.165.251:9001";
            "93.95.88.13:9001";
            "104.244.72.168:9100";
            "198.73.50.66:443";
            "209.141.38.62:443";
            "109.236.86.109:110";
            "192.42.116.161:9001";
            "31.13.195.248:443";
            "37.191.195.28:8443";
            "23.154.177.2:443";
            "51.178.26.103:443";
            "51.81.56.74:443";
            "195.154.133.124:9001";
            "176.9.118.73:9993";
            "79.196.30.109:9005";
            "24.3.110.224:443";
            "78.94.141.180:15827";
            "45.129.3.215:9002";
            "94.212.41.237:9001";
            "185.100.87.250:9443";
            "50.7.178.34:443";
            "164.132.226.30:22";
            "193.218.118.62:9001";
            "140.78.100.18:5443";
            "95.217.15.17:443";
            "107.189.28.100:9100";
            "77.21.74.43:9001";
            "185.220.103.117:443";
            "172.86.75.174:443";
            "51.15.249.137:9030";
            "96.244.79.89:9001";
            "213.73.96.131:443";
            "132.252.186.185:443";
            "62.212.239.170:80";
            "92.223.72.168:443";
            "51.254.136.195:443";
            "83.212.72.189:443";
            "84.113.179.53:9001";
            "125.212.220.60:443";
            "192.184.145.106:9001";
            "104.244.72.65:9001";
            "158.69.207.216:9001";
            "206.217.136.47:443";
            "185.65.206.154:443";
            "142.4.213.105:443";
            "37.221.67.70:9001";
            "212.47.237.127:9001";
            "54.36.108.162:443";
            "158.255.215.41:7654";
            "157.131.206.89:443";
            "138.201.196.156:9001";
            "45.61.185.90:9000";
            "194.145.150.15:443";
            "95.216.115.85:443";
            "134.249.106.21:9001";
            "58.185.69.242:8443";
            "46.23.72.81:443";
            "134.209.224.96:443";
            "103.228.53.155:9001";
            "213.65.114.38:65187";
            "140.78.100.29:8443";
            "193.108.117.59:9001";
            "69.164.221.78:443";
            "188.138.33.233:443";
            "85.214.147.9:443";
            "185.220.103.120:443";
            "37.120.190.160:9001";
            "213.164.204.90:9001";
            "83.53.71.25:9001";
            "51.15.85.13:3158";
            "104.37.193.102:443";
            "136.49.38.118:443";
            "107.189.28.100:9000";
            "151.32.131.255:443";
            "114.23.164.80:9001";
            "209.141.59.180:443";
            "45.132.246.38:9001";
            "109.92.182.91:9001";
            "172.73.184.37:443";
            "95.154.25.167:9001";
            "185.31.136.244:8181";
            "185.220.102.254:993";
            "40.122.165.48:443";
            "176.9.1.211:9001";
            "162.212.158.82:9201";
            "146.59.45.119:443";
            "107.189.6.61:9100";
            "45.142.100.30:443";
            "178.63.172.14:443";
            "37.221.65.169:8443";
            "64.44.51.37:443";
            "85.239.33.8:9001";
            "185.239.222.253:443";
            "162.247.74.213:443";
            "51.81.160.187:9001";
            "109.70.100.16:443";
            "104.152.209.130:443";
            "213.227.133.129:443";
            "54.36.101.21:9001";
            "104.244.76.13:443";
            "49.12.93.240:443";
            "37.59.37.59:9001";
            "140.78.100.25:8443";
            "185.220.103.118:9000"
        ]

    let GetRandomFallbackDirectory() =
        let fallbackDir = fallbackDirectories
                            .OrderBy(fun _ -> Guid.NewGuid())
                            .First()
        let ipAddrSegments = fallbackDir.Split ':'
        if ipAddrSegments.Length = 0 then
            failwith "Invalid FallbackDirectory"

        let port = ipAddrSegments.[1] |> int
        IPEndPoint(IPAddress.Parse(ipAddrSegments.[0]), port)
